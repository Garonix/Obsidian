### 1.1.1      告警

#### 1.1.1.1            新增告警信息接口

1.       接口描述

(1)    接口路径：/alarm/manage/save

(2)    请求方法：POST

(3)    请求数据类型：application/json

2.       输入

表 1 接口参数输入表

|   |   |   |   |   |
|---|---|---|---|---|
|**参数****名称**|**参数说明**|**请求类型**|**是否必填**|**数据类型**|
|platformIp|平台IP||false|string|
|webhookUrl|虎威回调url||false|string|
|systemName|系统名称（X侧系统名称）||false|string|
|tenantId|租户编码||true|string|
|tenantName|租户名称||false|string|
|extSystemCode|对应系统编码(外部系统编码)||false|string|
|systemCode|系统编号（N侧项目统一服务编码）||true|string|
|alarmInstance|告警实例ip||false|string|
|uniqueKey|告警ID(一直不变)||true|string|
|alarmSerial|告警ID(告警恢复后告警ID需要更新)||true|string|
|alarmPort|当alarmType为3paas时需要配置端口,其余类型为空||false|string|
|alarmName|告警名称||false|string|
|alarmSummary|告警摘要||false|string|
|alarmContent|告警内容||false|string|
|metricName|指标名称||false|string|
|alarmSource|告警来源（固定值：虎威）||false|string|
|alarmLevel|告警级别(警告warning、严重critical、危急emergency)|取值：warning、critical、emergency|false|string|
|alarmStatus|告警状态resolved解决  firing触发|取值：resolved、firing|false|string|
|startTime|告警触发时间||false|string|
|endTime|告警结束时间这个结束时间是由恢复类型告警提供的--如果没有时间标识告警未恢复||false|string|
|alarmType|告警类型 1234代表net、iaas、paas、saas||false|string|
|devIp|设备ip||false|string|
|devName|设备名称||false|string|
|devCode|设备编码||false|string|
|bizCode|业务类型||false|string|
|eventId|事件ID||false|string|

3.       输出

无。

4.       响应状态

表 2 响应状态表

|   |   |
|---|---|
|**状态码**|**说明**|
|000000|请求成功|

#### 1.1.1.2           修改告警信息接口

1.       接口描述

(1)    接口路径：/alarm/manage/update

(2)    请求方法：POST

(3)    请求数据类型：application/json

2.       输入

表 3 接口参数输入表

|   |   |   |   |   |
|---|---|---|---|---|
|**参数名称**|**参数说明**|**请求类型**|**是否必填**|**数据类型**|
|id|id||true|string|
|eventId|事件ID||false|string|
|taskStatus|任务状态||true|string|

3.       输出

无。

4.       响应状态

表 4 响应状态表

|   |   |
|---|---|
|**状态码**|**说明**|
|000000|请求成功|

#### 1.1.1.3           删除告警信息接口

1.       接口描述

(1)    接口路径：/alarm/manage/delete

(2)    请求方法：POST

(3)    请求数据类型：application/json

2.       输入

表 5 接口参数输入表

|   |   |   |   |   |
|---|---|---|---|---|
|**参数名称**|**参数说明**|**请求类型**|**是否必填**|**数据类型**|
|ids|id集合||true|数组|

3.       输出

无。

4.       响应状态

表 6 响应状态表

|   |   |
|---|---|
|**状态码**|**说明**|
|000000|请求成功|

#### 1.1.1.4           忽略告警信息接口

1.       接口描述

(4)    接口路径：/alarm/manage/ignore

(5)    请求方法：POST

(6)    请求数据类型：application/json

2.       输入

表 7 接口参数输入表

|   |   |   |   |   |
|---|---|---|---|---|
|**参数名称**|**参数说明**|**请求类型**|**是否必填**|**数据类型**|
|id|id||true|String|

3.       输出

无。

4.       响应状态

表 8 响应状态表

|   |   |
|---|---|
|**状态码**|**说明**|
|000000|请求成功|

#### 1.1.1.5           分页查询告警信息接口

1.       接口描述

(1)    接口路径：/alarm/manage/page

(2)    请求方法：GET

(3)    请求数据类型：application/json

2.       输入

表 9 接口参数输入表

|   |   |   |   |   |
|---|---|---|---|---|
|**参数名称**|**参数说明**|**请求类型**|**是否必填**|**数据类型**|
|isHistory|告警类型(实时告警:0 历史告警:1)||true|String|
|taskStatusList|告警状态集合||false|string|
|customerId|客户id||false|string|
|projectName|项目名称||false|string|
|startTime|时间下拉框，开始时间||false|string|
|endTime|时间下拉框，结束时间||false|string|
|devName|设备名称||false|string|
|devIp|设备ip||false|string|
|alarmLevel|告警级别||false|string|
|alarmType|告警类别：下拉框，SAAS PAAS IAAS 网络||false|string|
|projectIds|项目ids||false|数组|

3.       输出

|   |   |   |
|---|---|---|
|**参数名称**|**参数说明**|**数据类型**|
|customerName|客户名称|String|
|customerId|客户id|string|
|projectName|项目名称|string|
|projectId|项目id|string|
|bizType|工单类型|string|
|orderNumber|工单编号|string|
|workingPlace|服务地点|string|
|platformIp|平台IP|string|
|webhookUrl|虎威回调url|string|
|systemName|系统名称（X侧系统名称）|string|
|tenantId|租户编码|string|
|tenantName|租户名称|string|
|extSystemCode|对应系统编码(外部系统编码)|string|
|systemCode|系统编号（N侧项目统一服务编码）|string|
|alarmInstance|告警实例ip|string|
|uniqueKey|告警ID(一直不变)|string|
|alarmSerial|告警ID(告警恢复后告警ID需要更新)|string|
|alarmPort|当alarmType为3paas时需要配置端口,其余类型为空|string|
|alarmName|告警名称|string|
|alarmSummary|告警摘要|string|
|alarmContent|告警内容|string|
|metricName|指标名称|string|
|alarmSource|告警来源（固定值：虎威）|string|
|alarmLevel|告警级别(警告warning、严重critical、危急emergency)|string|
|alarmStatus|告警状态resolved解决  firing触发|string|
|startTime|告警触发时间|string|
|endTime|告警结束时间这个结束时间是由恢复类型告警提供的--如果没有时间标识告警未恢复|string|
|alarmType|告警类型 1234代表net、iaas、paas、saas|string|
|devIp|设备ip|string|
|devName|设备名称|string|
|devCode|设备编码|string|
|bizCode|业务类型|string|
|eventId|事件ID|string|
|taskStatus|任务状态|string|
|totalCount|推送次数总计|string|

4.       响应状态

表 10 响应状态表

|   |   |
|---|---|
|**状态码**|**说明**|
|000000|请求成功|
